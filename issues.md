# 一、框架
1.游戏框架类Game，用于初始化资源、接收键盘输入、更新数据、渲染  
2.工具类Shader，用于操作着色器  
3.工具类Texture2D，用于操作2D纹理  
4.资源管理类ResourceManager，用于管理程序用到的着色器和纹理  
5.渲染精灵SpriteRenderer，用于减少渲染代码书写

# 二、关卡
1.重点是砖块摆放，通过配置文件实现，存储于levels文件夹中  
2.砖块种类  
（1）0：空  
（2）1：solid，不能打碎  
（3）大于1小于5，代表不同颜色，普通砖块  
3.配置文件必须满行满列  

# 三、碰撞
1.ball与窗口碰撞  
（1）ball碰到窗口左、右、上即反弹，在BallObject中move函数实现  
（2）ball碰到窗口下，按照当前关卡reset  
2.ball与砖块碰撞  
（1）采用矩形和圆碰撞检测，查找最近的  
（2）ball与砖块碰撞后需要复位，此处有一个复位距离  
3.ball与paddle碰撞  
按碰撞点距paddle中心距离计算速度x，同时保证ball速度不变只是方向改变  
4.待解决  
（1）假如ball太快，可能在一帧跳过砖块，此时没有发生碰撞  
（2）假如在一帧中ball击中超过一个砖块，此时发生两次碰撞，并且翻转速度向量两次，就没能改变ball初始速度了  
（3）假如击中一个砖块的拐角，会导致翻转速度方向错误，此时返回水平或垂直  

# 四、粒子
就像ball带了个尾巴，每个粒子都是一个quad，其拥有位置、速度、颜色和生命，作为一个插件，加入程序。

# 五、后处理
1.有三种特效  
（1）shake：碰到solid时产生晃动  
（2）confuse：翻转颜色和坐标系  
（3）chaos：产生一种混乱效果  
2.技术实现重点  
（1）使用多重采样Multisample抗锯齿  
（2）使用渲染到纹理进行后处理，此时需要第二个fbo  
3.着色器实现重点  
（1）shake需要修改位置值；confuse、chaos需要修改纹理坐标  
（2）shake、chaos需要多次采样；confuse需要反转颜色  

# 六、道具
1.道具种类 
正向：
（1）speed:增加ball速度20%  
（2）sticky:当ball与paddle碰撞时被黏住，直到再次按下spacebar键，通过此道具可以设置ball发射位置  
（3）pass-through:穿过非solid砖块  
（4）pad-size-increase:增长paddle50像素  
反向：  
（5）confuse:激活confuse，让用户困惑  
（6）chaos:激活chao，让用户迷失方向  
2.道具产生  
ball碰撞到非solid砖块时，根据一定概率掉落道具，并将新道具加入道具库  
3.道具激活  
paddle碰到道具，激活此道具，且根据不同道具设置paddle和ball属性  
4.道具更新  
（1）销毁：自由下落，当低于窗口底时销毁  
（2）销毁：道具被paddle碰撞后销毁  
（3）失效：当道具有效时间<0，此道具失效。当道具库中无同类道具，此类道具影响失效  
（4）移除：道具失效且销毁  

# 七、声音
1.背景声  
进入游戏开始循环播放  
2.碰撞声音  
ball与砖块；ball与solid、ball与paddle、道具与paddle  
